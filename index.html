<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMTecnologia | Sovereign OS</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Plus Jakarta Sans', sans-serif; color: #fff; }
        #canvas-container { position: fixed; inset: 0; z-index: 0; }
        
        .interface-layer { position: relative; z-index: 10; width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; pointer-events: none; }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.01); backdrop-filter: blur(40px) saturate(150%); 
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 50px;
            padding: 60px; text-align: center; pointer-events: auto;
            box-shadow: 0 0 100px rgba(0,0,0,0.8);
            display: none; opacity: 0; transform: scale(0.9) translateY(20px);
            transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .glass-panel.active { display: block; opacity: 1; transform: scale(1) translateY(0); }

        .bento-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; width: 85vw; max-width: 1200px; text-align: left; }
        .bento-card { background: rgba(255,255,255,0.02); border-radius: 40px; border: 1px solid rgba(255,255,255,0.05); padding: 40px; transition: all 0.4s ease; }
        .bento-card:hover { border-color: #6366f1; background: rgba(99, 102, 241, 0.05); transform: translateY(-5px); }

        .btn-action { background: #fff; color: #000; padding: 18px 40px; border-radius: 25px; font-weight: 900; text-transform: uppercase; letter-spacing: 3px; font-size: 11px; cursor: pointer; transition: 0.4s; box-shadow: 0 10px 25px rgba(255,255,255,0.1); }
        .btn-action:hover { background: #6366f1; color: #fff; box-shadow: 0 15px 35px rgba(99, 102, 241, 0.4); transform: translateY(-2px); }
        
        h1, h2, h3 { letter-spacing: -1px; }
    </style>
</head>
<body>
    <div id="canvas-container"></div>

    <div class="interface-layer">
        
        <!-- VIEW 1: ENTRADA -->
        <div id="panel-entry" class="glass-panel active">
            <h1 class="text-7xl font-extrabold tracking-tighter mb-4">DANTE</h1>
            <p class="text-indigo-400 text-xs font-bold tracking-[0.8em] uppercase mb-16 opacity-70">Sovereign Intelligence</p>
            <button class="btn-action" onclick="transitionTo('panel-onboarding')">Initiate Protocol</button>
        </div>

        <!-- VIEW 2: ONBOARDING -->
        <div id="panel-onboarding" class="glass-panel">
            <h2 class="text-4xl font-extrabold mb-12 tracking-tight uppercase">Neural Modules</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-left">
                <div class="bento-card cursor-pointer group" onclick="transitionTo('panel-dashboard')">
                    <div class="text-5xl mb-6 group-hover:scale-110 transition-transform duration-500">üëÅÔ∏è</div>
                    <h3 class="font-bold text-2xl uppercase mb-3">Vis√£o de Deus</h3>
                    <p class="text-zinc-500 text-sm leading-relaxed">Sincroniza√ß√£o de invent√°rio em tempo real via Computer Vision.</p>
                    <div class="mt-8 text-indigo-400 font-bold text-xs tracking-widest uppercase">Ativar M√≥dulo ‚Üí</div>
                </div>
                <div class="bento-card opacity-20 grayscale cursor-not-allowed">
                    <div class="text-5xl mb-6">üß†</div>
                    <h3 class="font-bold text-2xl uppercase mb-3">Cofre Central</h3>
                    <p class="text-zinc-500 text-sm leading-relaxed">Processamento sem√¢ntico de documentos e an√°lise financeira.</p>
                    <div class="mt-8 text-zinc-600 font-bold text-xs tracking-widest uppercase">Bloqueado</div>
                </div>
            </div>
        </div>

        <!-- VIEW 3: DASHBOARD -->
        <div id="panel-dashboard" class="glass-panel">
            <div class="flex justify-between items-center mb-12">
                <div class="text-left">
                    <h2 class="text-3xl font-extrabold uppercase tracking-tighter">System <span class="text-indigo-500">Overwatch</span></h2>
                    <p class="text-zinc-500 text-xs font-bold uppercase tracking-widest mt-1">Status: Operational</p>
                </div>
                <button class="btn-action text-[9px] px-8 py-3" onclick="transitionTo('panel-onboarding')">Logout</button>
            </div>
            
            <div class="bento-grid">
                <div class="bento-card col-span-2 flex flex-col justify-between">
                    <span class="text-zinc-500 text-[10px] font-bold uppercase tracking-widest">Receita Acumulada</span>
                    <h2 class="text-6xl font-extrabold mt-4">‚Ç¨ 124.500</h2>
                    <p class="text-green-400 text-sm font-bold mt-4 flex items-center gap-2">‚Üë 24.8% <span class="text-zinc-600 font-medium tracking-normal text-xs uppercase">Vs last period</span></p>
                </div>
                <div class="bento-card">
                    <span class="text-zinc-500 text-[10px] font-bold uppercase tracking-widest">Automa√ß√µes Ativas</span>
                    <h2 class="text-5xl font-extrabold mt-6 text-indigo-400">42</h2>
                </div>
                
                <div class="bento-card col-span-3 flex justify-between items-center bg-white/[0.01]">
                    <div class="flex items-center gap-6">
                        <div class="w-12 h-12 rounded-full bg-indigo-600/20 flex items-center justify-center text-2xl">ü§ñ</div>
                        <div class="text-left">
                            <h4 class="font-bold text-lg leading-none">Restaurante Solar dos Nunes</h4>
                            <p class="text-xs text-zinc-500 font-medium mt-1">An√°lise de estoque via Foto processada com sucesso.</p>
                        </div>
                    </div>
                    <span class="text-[10px] font-black text-zinc-600 uppercase">H√Å 2 MIN</span>
                </div>
            </div>
        </div>

    </div>

    <script>
        let scene, camera, renderer, particles, torus;

        function init3D() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            const pCount = 3000;
            const pGeometry = new THREE.BufferGeometry();
            const pCoords = new Float32Array(pCount * 3);
            for(let i=0; i<pCount*3; i++) pCoords[i] = (Math.random() - 0.5) * 60;
            pGeometry.setAttribute('position', new THREE.BufferAttribute(pCoords, 3));
            particles = new THREE.Points(pGeometry, new THREE.PointsMaterial({ color: 0x6366f1, size: 0.05, transparent: true, opacity: 0.3 }));
            scene.add(particles);

            torus = new THREE.Mesh(
                new THREE.TorusKnotGeometry(3, 0.4, 200, 32), 
                new THREE.MeshStandardMaterial({ color: 0x6366f1, wireframe: true, transparent: true, opacity: 0.1, emissive: 0x6366f1, emissiveIntensity: 0.5 })
            );
            scene.add(torus);

            const light = new THREE.PointLight(0x6366f1, 10, 50);
            light.position.set(5, 5, 5);
            scene.add(light);
            scene.add(new THREE.AmbientLight(0xffffff, 0.1));
            
            camera.position.z = 18;
        }

        function transitionTo(panelId) {
            const current = document.querySelector('.glass-panel.active');
            gsap.to(current, { opacity: 0, scale: 0.95, y: -20, duration: 0.6, ease: "power4.in", onComplete: () => {
                current.classList.remove('active');
                current.style.display = 'none';
                
                const next = document.getElementById(panelId);
                next.style.display = 'block';
                
                // Movimento da C√¢mera 3D
                if(panelId === 'panel-dashboard') {
                    gsap.to(camera.position, { z: 25, x: -12, duration: 2.5, ease: "power3.inOut" });
                    gsap.to(torus.position, { x: 12, rotateY: 1.5, duration: 2.5 });
                } else if(panelId === 'panel-onboarding') {
                    gsap.to(camera.position, { z: 12, x: 0, y: 8, duration: 2 });
                    gsap.to(torus.position, { x: 0, y: -5, duration: 2 });
                } else {
                    gsap.to(camera.position, { z: 18, x: 0, y: 0, duration: 2 });
                    gsap.to(torus.position, { x: 0, y: 0, duration: 2 });
                }

                setTimeout(() => {
                    next.classList.add('active');
                    gsap.fromTo(next, { opacity: 0, scale: 1.05, y: 30 }, { opacity: 1, scale: 1, y: 0, duration: 1, ease: "expo.out" });
                }, 50);
            }});
        }

        function animate() {
            requestAnimationFrame(animate);
            particles.rotation.y += 0.0003;
            torus.rotation.x += 0.002;
            torus.rotation.y += 0.001;
            renderer.render(scene, camera);
        }

        document.addEventListener('mousemove', (e) => {
            const x = (e.clientX / window.innerWidth - 0.5) * 2;
            const y = (e.clientY / window.innerHeight - 0.5) * 2;
            gsap.to(torus.rotation, { x: y * 0.3, y: x * 0.3, duration: 2 });
        });

        init3D(); animate();

        window.onresize = () => {
            camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        };
    </script>
</body>
</html>
